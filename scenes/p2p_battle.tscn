[gd_scene load_steps=47 format=3 uid="uid://fqvvkgx7l53v"]

[ext_resource type="Script" uid="uid://dv23my4vy8yfg" path="res://scripts/p2p_battle.gd" id="1_o8nfj"]
[ext_resource type="Resource" uid="uid://so7hrtixn1m" path="res://systems/hit/hit.tres" id="2_j0p04"]
[ext_resource type="PackedScene" path="res://systems/round/round.tscn" id="3_1mmmy"]
[ext_resource type="Resource" uid="uid://dqs0pbaio1t1m" path="res://systems/score/score.tres" id="4_83gd0"]
[ext_resource type="Texture2D" uid="uid://dxxeiptklsadk" path="res://assets/sprites/player_idle.png" id="5_h4522"]
[ext_resource type="Texture2D" uid="uid://ocxxu2ehb7t7" path="res://assets/sprites/player_death.png" id="5_otfso"]
[ext_resource type="AudioStream" uid="uid://bc18ndinjry0t" path="res://assets/sounds/hit_sound.wav" id="7_j0p04"]

[sub_resource type="AtlasTexture" id="AtlasTexture_83gd0"]
atlas = ExtResource("5_otfso")
region = Rect2(0, 0, 256, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_37nnn"]
atlas = ExtResource("5_otfso")
region = Rect2(256, 0, 256, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_7tj0e"]
atlas = ExtResource("5_otfso")
region = Rect2(512, 0, 256, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_ivbd6"]
atlas = ExtResource("5_otfso")
region = Rect2(768, 0, 256, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_2ovof"]
atlas = ExtResource("5_otfso")
region = Rect2(1024, 0, 256, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_i4ctk"]
atlas = ExtResource("5_otfso")
region = Rect2(1280, 0, 256, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_ckl5n"]
atlas = ExtResource("5_otfso")
region = Rect2(1536, 0, 256, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_rwljd"]
atlas = ExtResource("5_otfso")
region = Rect2(1792, 0, 256, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_ay0w5"]
atlas = ExtResource("5_otfso")
region = Rect2(2048, 0, 256, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_nhmyb"]
atlas = ExtResource("5_otfso")
region = Rect2(2304, 0, 256, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_6bs61"]
atlas = ExtResource("5_otfso")
region = Rect2(2560, 0, 256, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_vr7fe"]
atlas = ExtResource("5_otfso")
region = Rect2(2816, 0, 256, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_jjcqm"]
atlas = ExtResource("5_otfso")
region = Rect2(3072, 0, 256, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_rngie"]
atlas = ExtResource("5_otfso")
region = Rect2(3328, 0, 256, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_b3pyp"]
atlas = ExtResource("5_otfso")
region = Rect2(3584, 0, 256, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_jvc2a"]
atlas = ExtResource("5_otfso")
region = Rect2(3840, 0, 256, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_0fq77"]
atlas = ExtResource("5_otfso")
region = Rect2(4096, 0, 256, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_78ed5"]
atlas = ExtResource("5_otfso")
region = Rect2(4352, 0, 256, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_pmlbr"]
atlas = ExtResource("5_otfso")
region = Rect2(4608, 0, 256, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_6fxo5"]
atlas = ExtResource("5_otfso")
region = Rect2(4864, 0, 256, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_i5wyw"]
atlas = ExtResource("5_otfso")
region = Rect2(5120, 0, 256, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_phu1o"]
atlas = ExtResource("5_otfso")
region = Rect2(5376, 0, 256, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_uwkin"]
atlas = ExtResource("5_otfso")
region = Rect2(5632, 0, 256, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_th6ae"]
atlas = ExtResource("5_otfso")
region = Rect2(5888, 0, 256, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_dxrwk"]
atlas = ExtResource("5_otfso")
region = Rect2(6144, 0, 256, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_ll4p5"]
atlas = ExtResource("5_otfso")
region = Rect2(6400, 0, 256, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_5034s"]
atlas = ExtResource("5_otfso")
region = Rect2(6656, 0, 256, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_3li4l"]
atlas = ExtResource("5_otfso")
region = Rect2(6912, 0, 256, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_cfdpt"]
atlas = ExtResource("5_otfso")
region = Rect2(7168, 0, 256, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_jtybl"]
atlas = ExtResource("5_otfso")
region = Rect2(7424, 0, 256, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_25dac"]
atlas = ExtResource("5_otfso")
region = Rect2(7680, 0, 256, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_0ipnm"]
atlas = ExtResource("5_otfso")
region = Rect2(7936, 0, 256, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_nawg7"]
atlas = ExtResource("5_otfso")
region = Rect2(8192, 0, 256, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_s62io"]
atlas = ExtResource("5_otfso")
region = Rect2(8448, 0, 256, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_6wsny"]
atlas = ExtResource("5_otfso")
region = Rect2(8704, 0, 256, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_a0nm7"]
atlas = ExtResource("5_otfso")
region = Rect2(8960, 0, 256, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_otfso"]
atlas = ExtResource("5_h4522")
region = Rect2(0, 0, 256, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_j0p04"]
atlas = ExtResource("5_h4522")
region = Rect2(256, 0, 256, 512)

[sub_resource type="SpriteFrames" id="SpriteFrames_83gd0"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_83gd0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_37nnn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7tj0e")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ivbd6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2ovof")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_i4ctk")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ckl5n")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rwljd")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ay0w5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_nhmyb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6bs61")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vr7fe")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jjcqm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rngie")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_b3pyp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jvc2a")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0fq77")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_78ed5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_pmlbr")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6fxo5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_i5wyw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_phu1o")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_uwkin")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_th6ae")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dxrwk")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ll4p5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5034s")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3li4l")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_cfdpt")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jtybl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_25dac")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0ipnm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_nawg7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_s62io")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6wsny")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_a0nm7")
}],
"loop": true,
"name": &"death",
"speed": 30.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_otfso")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_j0p04")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}]

[node name="Game" type="Node"]
script = ExtResource("1_o8nfj")
hit_system = ExtResource("2_j0p04")
score_system = ExtResource("4_83gd0")

[node name="HUD" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Type" type="Label" parent="HUD"]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -37.5
offset_top = -45.0
offset_right = 37.5
grow_horizontal = 2
grow_vertical = 0
theme_override_colors/font_color = Color(1, 0, 1, 1)
theme_override_font_sizes/font_size = 32
text = "TYPE"
uppercase = true

[node name="RoundState" type="Label" parent="HUD"]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -118.0
offset_top = 20.0
offset_right = 118.0
offset_bottom = 65.0
grow_horizontal = 2
theme_override_colors/font_color = Color(1, 0, 1, 1)
theme_override_font_sizes/font_size = 32
text = "ROUND STATE: "
horizontal_alignment = 1
uppercase = true

[node name="RoundNumber" type="Label" parent="HUD"]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -34.5
offset_right = 34.5
offset_bottom = 23.0
grow_horizontal = 2
text = "Round -1"
horizontal_alignment = 1

[node name="Player1Score" type="Label" parent="HUD"]
layout_mode = 1
offset_right = 128.0
offset_bottom = 23.0
text = "Player1 Score: -1"

[node name="Player2Score" type="Label" parent="HUD"]
layout_mode = 1
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -128.0
offset_bottom = 23.0
grow_horizontal = 0
text = "Player2 Score: -1"

[node name="HitIndicator" type="ColorRect" parent="HUD"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -97.5
offset_top = -58.75
offset_right = 97.5
offset_bottom = 58.75
grow_horizontal = 2
grow_vertical = 2
color = Color(1, 0.26999998, 0.26999998, 1)

[node name="Label" type="Label" parent="HUD/HitIndicator"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_font_sizes/font_size = 72
text = "HIT"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Player1" type="AnimatedSprite2D" parent="."]
position = Vector2(200, 333)
sprite_frames = SubResource("SpriteFrames_83gd0")
animation = &"idle"
autoplay = "idle"

[node name="Player2" type="AnimatedSprite2D" parent="."]
position = Vector2(949, 329)
sprite_frames = SubResource("SpriteFrames_83gd0")
animation = &"idle"
autoplay = "idle"

[node name="HitSound" type="AudioStreamPlayer" parent="."]
stream = ExtResource("7_j0p04")
volume_db = -5.0

[node name="Round" parent="." instance=ExtResource("3_1mmmy")]
_hit_system = ExtResource("2_j0p04")
